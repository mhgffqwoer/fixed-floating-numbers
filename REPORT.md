# Fixed-Floating numbers

## Инструментарий
> Работа выполнена на C++20.

# Описание:

***

## Fixed Point:

>Для реализации был написан класс который хранит в себе число в формате `uint32_t`, а так же поля для длинн целой и дробной части. Для реализации сложения и вычетания переопределил операции для класса использовав стандартные сложение и вычетания для `uint32_t`. Для умножения и деления все точно так же, но там еще использовал сдвиги (так же обработано исключение деление на ноль). Чтобы получить число целой и дробной части в десятичном виде были написаны функции `GetWholePartDec()` и `GetFractionalPartDec()`. Функция `GetFractionalPartDec()` возвращает `std::string` и уже с этой строкой происходят округления

***

## Floating Point:

>Для реализации было написано 2 класса для _half_ и _single precision_. Классы полностью одинаковые, их отличие лишь в сдвигах (связано с тем что в одном случае мы работаем с 32 битами, а в другом с 16). Так же обработаны исключения связаные с нулем, бесконечностями и неопределенностями (подробнее в __tenth commit__).

>Для реализации сложения и вычетания переопределил операторы, внутри происходит сдвиг маантисс относительно друг друга для правильности вычеслений (в доп. коде) после этого происходит пересчет новой экспоненты и в конце происходт обратное склеивание `sign + exp + mant`

>С делением и умножением чуть проще. Для получения знака числа используется `xor`, экспоненты складываюстя (или вычетаются), а мантиссы умножаются (или делятся) опять же со сдвигами для того чтоб получать правильные вычисления. В конце происходт обратное склеивание `sign + exp + mant`

>При обратном склеивании вызывается функция `Rounding(uint64_t mant, int sign)`, которая выполняет округления которое нам необходимо. Мантисса туда подается в виде 64 бит, где первые 23 бита это сама мантисса и остальные биты это то что необходимо округлить.

***

## Parse arguments:

>Здесь просто происходит просто получение всех аргументов из командной строки, храниться все это в отдельной структуре: 
```cpp
struct Arguments {
	char format;
	int format_A;
	int format_B;
	int rounding;
	uint32_t number_1;
	char operation;
	uint32_t number_2;
};
```
>Так же здесь реализована функция `HexToDec(const std::string& hex)`, которая превращает строку в 16 системе в число `uint32_t`.